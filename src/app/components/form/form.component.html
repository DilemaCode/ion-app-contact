<form [formGroup]="formGroup" (ngSubmit)="emitSubmit()">
    <ion-item>
        <ion-label position="floating">Firstname
            <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input formControlName="firstname" type="text"></ion-input>
    </ion-item>
    <ion-item>
        <ion-label position="floating">Lastname
            <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input formControlName="lastname" type="text"></ion-input>

    </ion-item>
    <div formArrayName="data" *ngFor="let item of formGroup.get('data').controls; let i=index">
        <ion-item *ngIf="item.value.type=='phone'" formGroupName="{{i}}">
            <ion-label position="floating">Phone {{i!=0?"("+(i+1)+")":""}}
                <ion-text *ngIf="i==0" color="danger">*</ion-text>
            </ion-label>
            <ion-input formControlName="value" type="text"></ion-input>
        </ion-item>
    </div>
    <ion-button expand="block" (click)="add()">
        <ion-icon name="add"></ion-icon>
        Add Phone
    </ion-button>

    <div formArrayName="data">
        <ion-item formGroupName="1">
            <ion-label position="floating">E-Mail
            </ion-label>
            <ion-input formControlName="value" type="text"></ion-input>
        </ion-item>
    </div>

    <ion-button strong class="save-btn" color="success" [disabled]="!formGroup.valid" expand="block" shape="round" type="submit">
        Save
    </ion-button>
</form>